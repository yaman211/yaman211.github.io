"use strict";(globalThis["webpackChunknamaa_test_task"]=globalThis["webpackChunknamaa_test_task"]||[]).push([[555],{1555:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Q});var a=o(9835);const l={class:"flex justify-between items-center q-pt-md q-pb-xl q-pl-md"},r=(0,a._)("div",{class:"text-secondary text-h4 text-weight-bold"},"Actors List",-1),s={class:"flex justify-evenly"},n={class:"full-width column flex-center text-secondary q-gutter-sm"},i=(0,a._)("div",{class:"text-h5"},"No Data Found !",-1);function d(e,t,o,d,c,u){const m=(0,a.up)("q-btn"),p=(0,a.up)("q-td"),g=(0,a.up)("q-icon"),h=(0,a.up)("q-table"),b=(0,a.up)("q-card"),f=(0,a.up)("ActorDialog");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",l,[r,(0,a.Wm)(m,{color:"secondary",icon:"add",label:"Add New Actor",onClick:e.onAddNewActor,"no-caps":"",style:{height:"fit-content"}},null,8,["onClick"])]),(0,a.Wm)(b,{class:"q-pa-md rounded-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{columns:e.columns,rows:e.data},{"body-cell-actions":(0,a.w5)((t=>[(0,a.Wm)(p,{props:t},{default:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a.Wm)(m,{icon:"edit",color:"secondary",size:"sm",onClick:o=>e.onEditClicked(t.row)},null,8,["onClick"]),(0,a.Wm)(m,{icon:"delete",color:"secondary",size:"sm",onClick:o=>e.onDeleteClicked(t.row)},null,8,["onClick"])])])),_:2},1032,["props"])])),"no-data":(0,a.w5)((()=>[(0,a._)("div",n,[(0,a.Wm)(g,{name:"subtitles_off",size:"100px"}),i])])),_:1},8,["columns","rows"])])),_:1}),(0,a.Wm)(f,{ref:"actorDialogRef"},null,512)])}var c=o(3100),u=o(6970);const m={class:"text-subtitle1 text-weight-bold q-mb-md"};function p(e,t,o,l,r,s){const n=(0,a.up)("q-input"),i=(0,a.up)("VField"),d=(0,a.up)("q-select"),c=(0,a.up)("q-btn"),p=(0,a.up)("VForm"),g=(0,a.up)("q-card"),h=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(h,{modelValue:e.isOpen,"onUpdate:modelValue":t[3]||(t[3]=t=>e.isOpen=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"q-pa-md rounded-md",style:{width:"400px"}},{default:(0,a.w5)((()=>[(0,a._)("div",m,(0,u.zw)(e.isEdit?"Edit":"Create New")+" Actor ",1),(0,a.Wm)(p,{onSubmit:e.onSubmit},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"name","model-value":e.actor.name,rules:"required"},{default:(0,a.w5)((({errorMessage:o})=>[(0,a.Wm)(n,{modelValue:e.actor.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.actor.name=t),label:"Name",outlined:"",dense:"","error-message":o,error:!!o,autofocus:""},null,8,["modelValue","error-message","error"])])),_:1},8,["model-value"]),(0,a.Wm)(i,{name:"age","model-value":e.actor.age,rules:"required|minMax:10,130"},{default:(0,a.w5)((({errorMessage:o})=>[(0,a.Wm)(n,{modelValue:e.actor.age,"onUpdate:modelValue":t[1]||(t[1]=t=>e.actor.age=t),label:"Age",type:"number",min:"10",max:"130",outlined:"",dense:"","error-message":o,error:!!o},null,8,["modelValue","error-message","error"])])),_:1},8,["model-value"]),(0,a.Wm)(i,{name:"role","model-value":e.actor.role,rules:"required"},{default:(0,a.w5)((({errorMessage:o})=>[(0,a.Wm)(d,{modelValue:e.actor.role,"onUpdate:modelValue":t[2]||(t[2]=t=>e.actor.role=t),label:"Actor Role",outlined:"",dense:"",options:e.roleOptions,"map-options":"","emit-value":"","error-message":o,error:!!o},null,8,["modelValue","options","error-message","error"])])),_:1},8,["model-value"]),(0,a.Wm)(c,{label:e.isEdit?"Save":"Create",color:"secondary",class:"full-width",type:"submit"},null,8,["label"])])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])}var g=o(4494),h=o(3266);const b=(0,a.aZ)({components:{VForm:h.l0,VField:h.gN},data(){return{isOpen:!1,isEdit:!1,id:null,actor:{name:"",age:"",role:""},roleOptions:[...Object.values(g.q)]}},methods:Object.assign(Object.assign({},(0,c.nv)({createActor:"actors/createActor",updateActor:"actors/updateActor"})),{open(e){e?(this.isEdit=!0,Object.assign(this.actor,e),this.id=e.id):(this.isEdit=!1,this.actor={name:"",age:"",role:""},this.id=null),this.isOpen=!0},onSubmit(){this.isEdit?this.updateActor({id:this.id,data:this.actor}):this.createActor(this.actor),this.isOpen=!1}})});var f=o(1639),w=o(2074),A=o(4458),v=o(6611),q=o(3752),_=o(4455),C=o(9984),k=o.n(C);const y=(0,f.Z)(b,[["render",p]]),W=y;k()(b,"components",{QDialog:w.Z,QCard:A.Z,QInput:v.Z,QSelect:q.Z,QBtn:_.Z});var x=o(4525);const V=[{name:"name",label:"Actor Name",field:"name",align:"center"},{name:"age",label:"Actor Age",field:"age",align:"center"},{name:"joinDate",label:"Joined At",field:"joinDate",format:x.C,align:"center"},{name:"role",label:"Role",field:"role",align:"center"},{name:"actions",label:"Actions",field:"",align:"center",style:"width: 180px"}],O=(0,a.aZ)({name:"actors-list",components:{ActorDialog:W},data(){return{columns:V}},computed:Object.assign({},(0,c.Se)({data:"actors/actors"})),methods:Object.assign(Object.assign({},(0,c.nv)({fetchActors:"actors/fetchActors",deleteActor:"actors/deleteActor",resetStore:"actors/resetStore"})),{onAddNewActor(){this.$refs["actorDialogRef"].open()},onEditClicked(e){this.$refs["actorDialogRef"].open(e)},onDeleteClicked(e){this.$q.dialog({title:"Confirm Delete",message:"Are you sure that you want to delete it ?.",cancel:!0,color:"negative",transitionShow:"flip-down",transitionHide:"flip-up"}).onOk((()=>{this.deleteActor(e.id)}))}}),mounted(){this.fetchActors()},unmounted(){this.resetStore()}});var Z=o(7580),D=o(7220),j=o(2857);const S=(0,f.Z)(O,[["render",d]]),Q=S;k()(O,"components",{QBtn:_.Z,QCard:A.Z,QTable:Z.Z,QTd:D.Z,QIcon:j.Z})}}]);